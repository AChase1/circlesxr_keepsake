<html>
  <head>
    <meta charset="utf-8">

    <!-- Circles' head scripts [REQUIRED] -->
    <circles-start-scripts/>

    <!-- add your custom scripts here -->
    <!-- <script src="/worlds/hub/scripts/hub.js"></script> -->
    <script src="js/lights-interaction.js"></script>
    
    <!--Environment Script-->
    <script src="https://unpkg.com/aframe-environment-component@1.3.1/dist/aframe-environment-component.min.js"></script>
    <script src="js/test.js"></script>
  </head>
  <body>

    <!-- this is used to create our enter UI that creates a 2D overlay to capture a user gesture for sound/mic access etc. -->
    <circles-start-ui/>

    <!-- a-scene with 'circles-properties' component [REQUIRED] -->
    <a-scene circles_scene_properties>
      <a-assets>
        <!-- add your assets here. Note that you can use relative links or absolute paths to your world -->
        <!-- Circles' built-in assets [REQUIRED] -->
        <a-asset-item id="soju_body_gltf"      src="assets/models/soju/soju_body/scene.gltf" crossorigin="anonymous"></a-asset-item>
        <a-asset-item id="soju_wheel_gltf"     src="assets/models/soju/soju_wheel/scene.gltf" crossorigin="anonymous"></a-asset-item>

        <circles-assets/>
      </a-assets>

      <!-- spawnpoint (guessing that it needs to be placed before the circles avatar manager) -->
      <a-entity circles-checkpoint circles-spawnpoint position="3 0.159 0"></a-entity>
      <!--<a-entity circles-checkpoint circles-spawnpoint position="3 0.159 0"></a-entity>-->

      <!-- Circles' built-in manager and avatar [REQUIRED] -->
      <circles-manager-avatar/>
      
      <!-- the environment -->
      <a-entity environment="preset:yavapai"></a-entity>

      <!-- interactive objects -->
      <!--<a-box holdable id="wheel" scale="0.5 0.5 0.5" color="yellow" position="1 1 0" circles-interactive-object="type:outline"></a-box>
      <a-box soj id="rover" color="green" position="3 1 0" circles-interactive-object="type:outline"></a-box> -->

      <!-- temp building -->
      <a-box position="-13 0 0"></a-box>
      <a-box id="floor" position="2.75863 0 0" scale="19.92 0.245 9.525"></a-box>
      
      <a-box id="mid-ceiling" position="2.908 3.761 0" scale="19.885 0.258 5"></a-box>
      <a-box id="left-ceiling" position="2.58259 3.126 3.5904" rotation="30 0 0" scale="20.482 0.186 2.696"></a-box>
      <a-box id="right-ceiling" position="2.58259 3.126 -3.5904" rotation="-30 0 0" scale="20.482 0.186 2.696"></a-box>
      
      <a-box id="backwall-1" position="12.71563 1.42839 0" scale="0.241 4.418 9.339"></a-box>
      <a-box id="backwall-2" position="-7.125 1.42839 0" scale="0.241 4.418 9.339"></a-box>

      <a-entity soj id="rover" position="0 0.02 0" rotation="0 0 0" scale="1 1 1" gltf-model="#soju_body_gltf" circles-interactive-object="type:outline">
        <!--<a-entity position="0.4404 0.14935 0.31451" rotation="0 180 0" gltf-model="#soju_wheel_gltf"></a-entity>-->
      </a-entity>
      <a-entity id="wheel" holdable position="1 1 2" rotation="0 0 0" gltf-model="#soju_wheel_gltf" circles-interactive-object="type:outline"></a-entity>
      

      <!--<a-box id="window-bar" position="0 1.19437 4.71784" rotation="0 0 90" scale="2.543 0.224 0.147"></a-box>-->
    </a-scene>

    <!-- Circles' end scripts [REQUIRED] -->
    <circles-end-scripts/>
  </body>
</html>

<!--
TODO
Picking up object - done
make sure only one object can be picked up
create dynamic system of placing object on rover

Extra
notifying text notifying players what the part does
pannel showing parts to look for

Places to look
src/components
queryselect player

Current notes: 
- need to find dynamic way of knowing who clicked on object (Player one seems to be linked to the user in their world)
- need to know what objects a player is holding

git issue tickets
- issues with spawnpoints
- issues with circles-object-label

-->

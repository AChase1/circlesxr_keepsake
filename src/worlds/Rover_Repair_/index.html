<html>
  <head>
    <meta charset="utf-8">

    <!-- Circles' head scripts [REQUIRED] -->
    <circles-start-scripts/>

    <!-- add your custom scripts here -->
    <!-- <script src="/worlds/hub/scripts/hub.js"></script> -->
    <script src="js/lights-interaction.js"></script>
    
    <!--Environment Script-->
    <script src="https://unpkg.com/aframe-environment-component@1.3.1/dist/aframe-environment-component.min.js"></script>
    <script src="js/manager.js"></script>
    <script src="js/hold.js"></script>
    <script src="js/rover.js"></script>
    <script src="js/interactEvents.js"></script>
  </head>
  <body>

    <!-- this is used to create our enter UI that creates a 2D overlay to capture a user gesture for sound/mic access etc. -->
    <circles-start-ui/>

    <!-- a-scene with 'circles-properties' component [REQUIRED] -->
    <a-scene circles_scene_properties>
      <a-assets>
        <!-- add your assets here. Note that you can use relative links or absolute paths to your world -->
        <!-- Circles' built-in assets [REQUIRED] -->
        <a-asset-item id="soju_body_gltf"      src="assets/models/soju/soju_body/scene.gltf" crossorigin="anonymous"></a-asset-item>
        <a-asset-item id="soju_wheel_gltf"     src="assets/models/soju/soju_wheel/scene.gltf" crossorigin="anonymous"></a-asset-item>

        <!--images-->
        <img id="soj_wheel_00" src="assets/imgs/sojourner_wheel_red.png">
        <img id="soj_wheel_01" src="assets/imgs/sojourner_wheel_blue.png">

        <!--Struggle Bus Assets-->
        <a-asset-item id="desk_gltf"         src="assets/models/desk/scene.gltf"        crossorigin="anonymous"></a-asset-item>    <!--desk assets-->
        <a-asset-item id="desk_drawer_gltf"  src="assets/models/desk_drawer/scene.gltf" crossorigin="anonymous"></a-asset-item>    <!--drawer assets-->
        <a-asset-item id="3d_printer_gltf"   src="assets/models/3d_printer/scene.gltf"  crossorigin="anonymous"></a-asset-item>    <!--printer asset-->
        <a-asset-item id="holo_base_gltf"    src="assets/models/hologram_base/scene.gltf" crossorigin="anonymous"></a-asset-item>  <!--hologram asset-->
        <a-asset-item id="large_screen_gltf" src="assets/models/large_screen/scene.gltf" crossorigin="anonymous"></a-asset-item>   <!--large screen asset-->
        <a-asset-item id="bigger_screen_gltf" src="assets/models/bigger_screen/scene.gltf" crossorigin="anonymous"></a-asset-item>   <!--biggers screen asset-->

        <circles-assets/>
      </a-assets>

      <!-- spawnpoint (guessing that it needs to be placed before the circles avatar manager) -->
      <a-entity circles-checkpoint circles-spawnpoint position="1 1.25 1"></a-entity>
      <a-entity circles-checkpoint circles-spawnpoint position="1 1.25 -1"></a-entity>
      <a-entity circles-checkpoint circles-spawnpoint position="-1 1.25 1"></a-entity>
      <a-entity circles-checkpoint circles-spawnpoint position="-1 1.25 -1"></a-entity>

      <!-- Circles' built-in manager and avatar [REQUIRED] -->
      <circles-manager-avatar/>
      
      <!-- the environment -->
      <a-entity environment="preset:yavapai"></a-entity>

      <!-- socket connector -->
      <a-entity multi-interactions id="worldManager"></a-entity>

      <!-- temp building -->
      <a-entity id="b_hub" position="0 1 0">
        <!--wall (straight)-->
        <a-box position="0 1.75 12" height="3" width="10" depth="0.25"></a-box>
        <a-box position="0 1.75 -12" height="3" width="10" depth="0.25"></a-box>
        <a-box position="12 1.75 0"  rotation="0 90 0" height="3" width="10" depth="0.25"></a-box>
        <a-box position="-12 1.75 0" rotation="0 90 0" height="3" width="10" depth="0.25"></a-box>
        <!--wall (corner)-->
        <a-box position="8.5 1.75 8.5"  rotation="0 45 0" height="3" width="10" depth="0.25"></a-box>
        <a-box position="8.5 1.75 -8.5"  rotation="0 -45 0" height="3" width="10" depth="0.25"></a-box>
        <a-box position="-8.5 1.75 8.5"  rotation="0 -45 0" height="3" width="10" depth="0.25"></a-box>
        <a-box position="-8.5 1.75 -8.5"  rotation="0 45 0" height="3" width="10" depth="0.25"></a-box>
        <!--floor-->
        <a-box height="0.5" width="24" depth="10"></a-box>
        <a-box height="0.5" width="24" depth="10" rotation="0 135 0"></a-box>
        <a-box height="0.5" width="24" depth="10" rotation="0 270 0"></a-box>
        <a-box height="0.5" width="24" depth="10" rotation="0 405 0"></a-box>
      </a-entity>

      <!-- Temp building details -->

      <!--sojuourner area-->
      <a-entity position="0.955 1.163 0">
        <!--sand-->
        <a-box position="-0.96469 0.10729 0" scale="1.7 0.055 1.7" color="#D5737A"></a-box>
        <!-- border -->
        <a-entity position="0 0 0">
          <a-cylinder position="-1.8 0.124 0.84" scale="0.17 0.1 0.17" color="grey"></a-cylinder>
          <a-box position="-0.92 0.097 0.85606" scale="1.71 0.1 0.075" color="black"></a-box>
          <a-cylinder position="-1.8 0.124 -0.84" scale="0.17 0.1 0.17" color="grey"></a-cylinder>
          <a-box position="-0.92 0.097 -0.82" scale="1.71 0.1 0.075" color="black"></a-box>
          <a-cylinder position="-0.12 0.124 0.84" scale="0.17 0.1 0.17" color="grey"></a-cylinder>
          <a-box position="-0.11 0.097 0.012" scale="1.71117 0.1 0.07508" color="black" rotation="0 90 0"></a-box>
          <a-cylinder position="-0.12 0.124 -0.83" scale="0.17 0.1 0.17" color="grey"></a-cylinder>
          <a-box position="-1.8 0.097 0.012" scale="1.71 0.1 0.075" color="black" rotation="0 90 0"></a-box>
        </a-entity>
      </a-entity>

      <a-entity rover id="rover_sojourner" position="-0.132 1.281 0" rotation="0 0 0" scale="1 1 1" gltf-model="#soju_body_gltf" circles-interactive-object="type:highlight">
        <a-entity id="roverText" scale="0.5 0.5 0.5" position="0 1.25 0" circles-description="title_text_front:Sojourner; description_text_front:Hey you help me out! find my pieces to repair me;"></a-entity>
      </a-entity>
      
      <!--tabel placeholder-->
      <a-entity id="tabel1" position="0 1 11" scale="1.4 1 1">
        <a-box position="0 1 0" scale="2.109 0.244 1"></a-box>
        <a-box position="0.82 0.6148 0" scale="0.467 1 1"></a-box>
        <a-box position="-0.82 0.6148 0" scale="0.467 1 1"></a-box>
      </a-entity>

      <a-entity wield id="sj_part_wheel_00" position="4 2 3.3" gltf-model="#soju_wheel_gltf" circles-interactive-object="type:highlight"></a-entity>
      <!--<a-box wield id="test_part_01" position="0.6 2.5 11"  scale="0.5 0.5 0.5" color="green" circles-interactive-object="type:highlight"></a-box>-->
      
      <!--basic desk-->
      <a-entity position="2 -0.8 4" rotation="0 90 0" gltf-model="#desk_gltf">
        <!--basic drawer-->
        <a-entity id="drawer_00" drawer_anim position="-0.804 -0.50 0.31" gltf-model="#desk_drawer_gltf" circles-interactive-object="type:highlight" fuckingbitch>
          <!--object in the drawer-->
          <a-box wield id="test_part_02" position="0.13 2.7 -0.158"  scale="0.5 0.5 0.5" color="blue" circles-interactive-object="type:highlight"></a-box>
        </a-entity>
      </a-entity>

      <!--lowfidelity printer-->
      <a-entity id="printer_00" position="-4 2.5 -4">
        <a-entity printer_anim="printObjId:test_part_01;" position="-0.12 -0.023 0.328" circles-button scale="0.25 0.25 0.25"></a-entity>
        <a-entity id="printer_model" gltf-model="#3d_printer_gltf">
          <a-box wield id="test_part_01" position="0.13 0 -0.158"  scale="0.5 0.5 0.5" color="green" circles-interactive-object="type:highlight"></a-box>
        </a-entity>
      </a-entity>

      <!--hologram example-->
      <a-entity hologram="redImgId:#soj_wheel_00; blueImgId:#soj_wheel_01;" id="h_base_00" position="-4 1.4 4" scale="0.3 0.3 0.3" gltf-model="#holo_base_gltf">
        <a-image id="holoImg" position="0 3 0" scale="10 10 10"></a-image>
      </a-entity>

      <!--large screen example-->
      <a-entity id="soj_screen" position="4 2 -4" gltf-model="#bigger_screen_gltf">
        <a-entity id="screenTxt" text="value:Hello world; baseline:top;" position="0 0.75 0.06" scale="2 2 2"></a-entity>
      </a-entity>

    </a-scene>

    <!-- Circles' end scripts [REQUIRED] -->
    <circles-end-scripts/>
  </body>
</html>

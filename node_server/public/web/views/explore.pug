extends layout.pug

block append stylesheets
  link(rel="stylesheet" type="text/css" href="/web/css/vendor/color-picker.css")

block content
  - var userCanGenMagicLinks  = userInfo.userType === CIRCLES.USER_TYPE.TEACHER || userInfo.userType === CIRCLES.USER_TYPE.RESEARCHER;
  - var targetUsersText       = (userInfo.userType === CIRCLES.USER_TYPE.TEACHER) ? CIRCLES.USER_TYPE.STUDENT : CIRCLES.USER_TYPE.PARTICIPANT;
  - var buttonText            = 'Create ' + targetUsersText + ' Links';

  h2 Circles' Worlds
  div(class="gutter-bottom-doubled")
    div(class="pure-menu gutter-bottom")
    <span class="pure-menu-heading">Hubs</span>
      ul(class="pure-menu-list")
        li
          if userCanGenMagicLinks
            input(type='button' class="pure-button pure-button-primary" value=buttonText onclick='createMagicLinks("/worlds/hub?room=explore", "' + userInfo.userType + '", "' + 30 + '")')
          a(href='/worlds/hub?room=explore' class="pure-button") The Fire
        li
          if userCanGenMagicLinks
            input(type='button' class="pure-button pure-button-primary" value=buttonText onclick='createMagicLinks("/worlds/KIN_Hub?room=explore", "' + userInfo.userType + '", "' + 30 + '")')
          a(href='/worlds/KIN_Hub?room=explore' class="pure-button") Kinematics lab - Hub

    div(class="pure-menu gutter-bottom")
    <span class="pure-menu-heading">Challenges Surrounding Women in the Trades</span>
      ul(class="pure-menu-list")
        li
          if userCanGenMagicLinks
            input(type='button' class="pure-button pure-button-primary" value=buttonText onclick='createMagicLinks("/worlds/WIT_1_Kitchen?room=explore", "' + userInfo.userType + '", "' + 30 + '")')
          a(href='/worlds/WIT_1_Kitchen?room=explore' class="pure-button") Women in Tech., Act 1: Growing Up
        li
          if userCanGenMagicLinks
            input(type='button' class="pure-button pure-button-primary" value=buttonText onclick='createMagicLinks("/worlds/WIT_2_Lab?room=explore", "' + userInfo.userType + '", "' + 30 + '")')
          a(href='/worlds/WIT_2_Lab?room=explore' class="pure-button") Women in Tech., Act 2: In The Classroom
        li
          if userCanGenMagicLinks
            input(type='button' class="pure-button pure-button-primary" value=buttonText onclick='createMagicLinks("/worlds/WIT_3_Work?room=explore", "' + userInfo.userType + '", "' + 30 + '")')
          a(href='/worlds/WIT_3_Work?room=explore' class="pure-button") Women in Tech., Act 3: On The Job

    div(class="pure-menu gutter-bottom")
    <span class="pure-menu-heading">Viola Desmond, Canadian Civil Rights Pioneer</span>
      ul(class="pure-menu-list")
        li
          if userCanGenMagicLinks
            input(type='button' class="pure-button pure-button-primary" value=buttonText onclick='createMagicLinks("/worlds/VD_1_Salon?room=explore", "' + userInfo.userType + '", "' + 30 + '")')
          a(href='/worlds/VD_1_Salon?room=explore' class="pure-button") Viola Desmond, Act 1: The Salon
        li
          if userCanGenMagicLinks
            input(type='button' class="pure-button pure-button-primary" value=buttonText onclick='createMagicLinks("/worlds/VD_2_Theatre?room=explore", "' + userInfo.userType + '", "' + 30 + '")')
          a(href='/worlds/VD_2_Theatre?room=explore' class="pure-button") Viola Desmond, Act 2: The Roseland Theatre
        li
          if userCanGenMagicLinks
            input(type='button' class="pure-button pure-button-primary" value=buttonText onclick='createMagicLinks("/worlds/VD_3_ProvinceHouse?room=explore", "' + userInfo.userType + '", "' + 30 + '")')
          a(href='/worlds/VD_3_ProvinceHouse?room=explore' class="pure-button") Viola Desmond, Act 3: The Province House

    div(class="pure-menu gutter-bottom")
    <span class="pure-menu-heading">Education - Kinematics</span>
      ul(class="pure-menu-list")
        li
          if userCanGenMagicLinks
            input(type='button' class="pure-button pure-button-primary" value=buttonText onclick='createMagicLinks("/worlds/KIN_Hub?room=explore", "' + userInfo.userType + '", "' + 30 + '")')
          a(href='/worlds/KIN_Hub?room=explore' class="pure-button") Kinematics lab - Hub
        li
          if userCanGenMagicLinks
            input(type='button' class="pure-button pure-button-primary" value=buttonText onclick='createMagicLinks("/worlds/KIN_FreeFall?room=explore", "' + userInfo.userType + '", "' + 30 + '")')
          a(href='/worlds/KIN_FreeFall?room=explore' class="pure-button") Kinematics lab - Freefall
        li
          if userCanGenMagicLinks
            input(type='button' class="pure-button pure-button-primary" value=buttonText onclick='createMagicLinks("/worlds/KIN_ShootAndDrop?room=explore", "' + userInfo.userType + '", "' + 30 + '")')
          a(href='/worlds/KIN_ShootAndDrop?room=explore' class="pure-button") Kinematics lab - Shoot and Drop
        li
          if userCanGenMagicLinks
            input(type='button' class="pure-button pure-button-primary" value=buttonText onclick='createMagicLinks("/worlds/KIN_ShootTheMonkey?room=explore", "' + userInfo.userType + '", "' + 30 + '")')
          a(href='/worlds/KIN_ShootTheMonkey?room=explore' class="pure-button") Kinematics lab - Shoot the Monkey
    
    div(class="pure-menu gutter-bottom")
    <span class="pure-menu-heading">Education - CogSci</span>
      ul(class="pure-menu-list")
        li
          if userCanGenMagicLinks
            input(type='button' class='pure-button pure-button-primary' value=buttonText onclick='createMagicLinks("/worlds/COG_MemoryPalace?room=explore", "' + userInfo.userType + '")')
          a(href='/worlds/COG_MemoryPalace?room=explore' class='pure-button') CogSci Memory Palace
          
    div(class="pure-menu gutter-bottom")
    <span class="pure-menu-heading">For Testing</span>
      ul(class="pure-menu-list")
        li
          if userCanGenMagicLinks
            input(type='button' class="pure-button pure-button-primary" value=buttonText onclick='createMagicLinks("/worlds/ExampleWorld?room=explore", "' + userInfo.userType + '", "' + 30 + '")')
          a(href='/worlds/ExampleWorld?room=explore' class="pure-button") Example World
        li
          if userCanGenMagicLinks
            input(type='button' class="pure-button pure-button-primary" value=buttonText onclick='createMagicLinks("/worlds/Wardrobe?room=explore", "' + userInfo.userType + '", "' + 30 + '")')
          a(href='/worlds/Wardrobe?room=explore' class="pure-button") Wardrobe Test
        li
          if userCanGenMagicLinks
            input(type='button' class="pure-button pure-button-primary" value=buttonText onclick='createMagicLinks("/worlds/Testbed?room=explore", "' + userInfo.userType + '", "' + 30 + '")')
          a(href='/worlds/Testbed?room=explore' class="pure-button") Research Room

  if userCanGenMagicLinks
    div(id="MagicLinksWrapper" class="gutter-bottom-doubled")
      h3 #{targetUsersText} Links for "Magic" Automatic Login 
      p Click on one of the blue <span style='color:#0078e7; font-weight:bold;'>[#{buttonText}]</span> buttons beside the worlds above to generate "magic links" to the selected world for each #{targetUsersText}. Just copy and send each link to each #{targetUsersText} to automatically log them in. 
      p <em>Note these links expire in <span id='countdownElem' style='color:#0078e7; font-weight:bold;'>15 minutes</span></em>.
      div(id="MagicLinksContent" class="gutter-bottom-doubled")
